
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<div class='container'>
   <p>Username : <input class='form-control' id='username'></p>
   <p>Password : <input class='form-control' id='password' type='password'></p>
   <span id='errMsg' style='color : red;'></span>
   <br>
   <input type='button' class='btn-primary' value='Log in' onclick='logIn();'>    
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>
   $(document).ready(function(){
     if(sessionStorage.getItem('access_token') && sessionStorage.getItem('refresh_token')) {
       window.location.href = 'index.html';
     }      
   });
   
   function logIn() {
       var data = JSON.stringify({
           "username" : $('#username').val(),
           "password" : $('#password').val()
       });
       
       $.ajax(
           {    
               url: "http://localhost:8000/api/token",
               data : data,
               dataType : "json",
               method : 'POST',
               contentType: "application/json; charset=utf-8",
               
               success: function(result){
                   sessionStorage.setItem('access_token', result['access']);
                   sessionStorage.setItem('refresh_token', result['refresh']);
                   window.location.href = 'index.html';
               },
               
               error: function (error) {
                   $('#errMsg').html('Incorrect username or password<br>');
               }                
           }
       );
   }
</script>